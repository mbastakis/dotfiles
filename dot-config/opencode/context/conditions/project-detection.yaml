# Project Type Detection Rules

# Web Application Detection
web_application:
  files:
    - "package.json"
    - "src/"
    - "public/"
    - "index.html"
  patterns:
    - "react"
    - "vue"
    - "angular"
    - "svelte"
  context:
    standards: ["coding/style-guides", "security/secure-coding", "performance/optimization"]
    products: ["web-apps/patterns"]
    
# API Service Detection  
api_service:
  files:
    - "api/"
    - "routes/"
    - "controllers/"
    - "openapi.yaml"
    - "swagger.json"
  patterns:
    - "express"
    - "fastapi"
    - "rails"
    - "django"
  context:
    standards: ["coding/style-guides", "security/secure-coding", "apis/patterns"]
    products: ["apis/patterns"]

# Mobile Application Detection
mobile_app:
  files:
    - "ios/"
    - "android/"
    - "mobile/"
    - "react-native/"
    - "flutter/"
  patterns:
    - "react-native"
    - "flutter"
    - "ionic"
    - "cordova"
  context:
    standards: ["coding/style-guides", "performance/optimization"]
    products: ["mobile/patterns"]

# Infrastructure/DevOps Detection
infrastructure:
  files:
    - "terraform/"
    - "ansible/"
    - "kubernetes/"
    - "docker-compose.yml"
    - "Dockerfile"
  patterns:
    - "terraform"
    - "ansible"
    - "kubernetes"
    - "docker"
  context:
    standards: ["security/secure-coding", "performance/optimization"]
    products: ["infrastructure/patterns"]

# Default Fallback
default:
  context:
    standards: ["bmad/methodology", "coding/style-guides"]
    products: ["web-apps/patterns"]