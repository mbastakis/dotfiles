{
  "$schema": "https://opencode.ai/config.json",
  "theme": "catppuccin",
  "autoshare": false,
  "share": "manual",
  "autoupdate": true,
  "provider": {
    "amazon-bedrock": {
      "models": {
        "anthropic.claude-opus-4-5-20251101-v1:0": {
          "name": "Claude Opus 4.5 (Bedrock)"
        }
      }
    }
  },
  "mcp": {
    // "snap-happy": {
    //   "type": "local",
    //   "command": [
    //     "npx",
    //     "@mariozechner/snap-happy"
    //   ],
    //   "environment": {
    //     "SNAP_HAPPY_SCREENSHOT_PATH": "${HOME}/Screenshots"
    //   }
    // },
    // "context7": {
    //   "type": "local",
    //   "command": [
    //     "npx",
    //     "-y",
    //     "@upstash/context7-mcp"
    //   ]
    // },
    // "mcp-obsidian": {
    //   "type": "local",
    //   "command": [
    //     "uvx",
    //     "mcp-obsidian"
    //   ],
    //   "environment": {
    //     "OBSIDIAN_API_KEY": "fc66e63d54ee9f23e95b48ef533c62910d388af3db4408b76da25f0129beffeb",
    //     "OBSIDIAN_HOST": "127.0.0.1",
    //     "OBSIDIAN_PORT": "27124"
    //   }
    // },
    // "sequential-thinking": {
    //   "type": "local",
    //   "command": [
    //     "npx",
    //     "-y",
    //     "@modelcontextprotocol/server-sequential-thinking"
    //   ]
    // },
  },
  "permission": {
    "edit": "allow",
    "bash": {
      "cat ~/.config/opencode/*": "allow",
      "ls ~/.config/opencode/*": "allow",
      "find ~/.config/opencode -name '*.md'": "allow",
      "~/.config/opencode/cache/cache-helper.sh *": "allow",
      "~/.config/opencode/logs/session-logger.sh *": "allow",
      "mkdir -p ~/.config/opencode/metrics/*": "allow",
      "sort": "allow",
      "grep": "allow",
      "head": "allow",
      "tail": "allow",
      "wc": "allow",
      "cut": "allow",
      "sed": "allow",
      "awk": "allow",
      "tr": "allow",
      "uniq": "allow",
      "xargs": "allow",
      "echo": "allow",
      "eza": "allow",
      "date": "allow",
      // Web crawler commands (global)
      "mkdir *": "allow",
      "uvx *": "allow",
      "ls *": "allow",
      "du *": "allow",
      "cat *": "allow",
      "*": "ask"
    }
  },
  "agent": {
    "web-crawler": {
      "description": "Crawl websites and extract content to ai-docs",
      "mode": "subagent",
      "model": "amazon-bedrock/anthropic.claude-haiku-4-5-20251001-v1:0",
      "temperature": 0.1,
      "prompt": "{file:./agent/web-crawler.md}",
      "permission": {
        // Granular bash patterns have known bugs (#6676, #6856):
        // - Flags like -p are stripped during pattern matching
        // - Agent-level patterns may not work reliably
        // Strategy: allow all, but explicitly deny dangerous commands
        // Due to #6676, flags are stripped so "rm" matches "rm -rf ..."
        "bash": {
          "rm": "deny",
          "rm *": "deny",
          "rmdir": "deny",
          "rmdir *": "deny",
          "mv": "ask",
          "mv *": "ask",
          "cp": "ask",
          "cp *": "ask",
          "chmod": "deny",
          "chmod *": "deny",
          "chown": "deny",
          "chown *": "deny",
          "sudo": "deny",
          "sudo *": "deny",
          "*": "allow"
        },
        "skill": "allow",
        "write": "allow",
        "read": "allow",
        "webfetch": "allow",
        "websearch": "allow",
        "edit": "deny",
        "glob": "deny",
        "grep": "deny"
      }
    }
  },
  "instructions": []
}
