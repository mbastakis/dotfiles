{{- $profileEnv := env "CHEZMOI_PROFILE" -}}
{{- $dtWork := false -}}
{{- if or (eq $profileEnv "dt-work") (eq $profileEnv "work") -}}
{{-   $dtWork = true -}}
{{- else if eq $profileEnv "personal" -}}
{{-   $dtWork = false -}}
{{- else -}}
{{-   $dtWorkChoice := promptChoiceOnce . "dt-work" "Enable DT work configuration?" (list "no" "yes") -}}
{{-   $dtWork = eq $dtWorkChoice "yes" -}}
{{- end -}}
{{- $profile := "personal" -}}
{{- if $dtWork -}}
{{-   $profile = "dt-work" -}}
{{- end -}}

encryption = "age"

[age]
    identity = "~/.config/chezmoi/key.txt"
    recipient = "age1sgju3gp8hzxqprzhh4hlcq43see0yel3hus6zp8tkgqu3che2gnqkeq2jl"

[data]
    profile = {{ $profile | quote }}
    dtWork = {{ $dtWork }}
    email = "mbastakis@gmail.com"
    name = "Michail Bastakis"

[bitwardenSecrets]
    command = "{{ .chezmoi.sourceDir }}/bin/chezmoi-bws"

[diff]
    command = "delta"
    pager = "delta"

[edit]
    command = "nvim"

[merge]
    command = "nvim"
    args = ["-d"]
