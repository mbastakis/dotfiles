# Development environment overrides for istio-cni
# These values override default-values.yaml for the dev environment

cni:
  # Node affinity for CNI DaemonSet
  # Ensure CNI runs on all node types (on-demand and Karpenter-managed)
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: eks.amazonaws.com/capacityType
            operator: In
            values:
            - ON_DEMAND
        - matchExpressions:
          - key: karpenter.k8s.aws/instance-cpu
            operator: Exists
